{"ast":null,"code":"import React,{useEffect,useState}from'react';import{fetchAllPrices}from'../utils/fetchPrices';import ExportCSV from'../utils/exportCSV';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[prices,setPrices]=useState([]);const[opportunities,setOpportunities]=useState([]);useEffect(()=>{const getPrices=async()=>{const data=await fetchAllPrices();setPrices(data);const opps=[];for(let i=0;i<data.length;i++){for(let j=i+1;j<data.length;j++){const p1=data[i];const p2=data[j];if(p1.symbol===p2.symbol){const diff=Math.abs(p1.price-p2.price);const percent=diff/Math.min(p1.price,p2.price)*100;if(percent>=5){opps.push({symbol:p1.symbol,exchangeA:p1.exchange,priceA:p1.price,exchangeB:p2.exchange,priceB:p2.price,difference:percent.toFixed(2)});}}}}setOpportunities(opps);};getPrices();},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Arbitrage Opportunities Over 5%\"}),/*#__PURE__*/_jsx(ExportCSV,{data:opportunities,filename:\"opportunities.csv\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Pair\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Exchange A\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price A\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Exchange B\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price B\"}),/*#__PURE__*/_jsx(\"th\",{children:\"% Diff\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:opportunities.map((item,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.symbol}),/*#__PURE__*/_jsx(\"td\",{children:item.exchangeA}),/*#__PURE__*/_jsx(\"td\",{children:item.priceA}),/*#__PURE__*/_jsx(\"td\",{children:item.exchangeB}),/*#__PURE__*/_jsx(\"td\",{children:item.priceB}),/*#__PURE__*/_jsxs(\"td\",{children:[item.difference,\"%\"]})]},idx))})]})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","fetchAllPrices","ExportCSV","jsx","_jsx","jsxs","_jsxs","Home","prices","setPrices","opportunities","setOpportunities","getPrices","data","opps","i","length","j","p1","p2","symbol","diff","Math","abs","price","percent","min","push","exchangeA","exchange","priceA","exchangeB","priceB","difference","toFixed","style","padding","children","filename","map","item","idx"],"sources":["C:/Users/benit/Music/arbisout/src/pages/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { fetchAllPrices } from '../utils/fetchPrices';\r\nimport ExportCSV from '../utils/exportCSV';\r\n\r\nconst Home = () => {\r\n  const [prices, setPrices] = useState([]);\r\n  const [opportunities, setOpportunities] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getPrices = async () => {\r\n      const data = await fetchAllPrices();\r\n      setPrices(data);\r\n\r\n      const opps = [];\r\n      for (let i = 0; i < data.length; i++) {\r\n        for (let j = i + 1; j < data.length; j++) {\r\n          const p1 = data[i];\r\n          const p2 = data[j];\r\n          if (p1.symbol === p2.symbol) {\r\n            const diff = Math.abs(p1.price - p2.price);\r\n            const percent = (diff / Math.min(p1.price, p2.price)) * 100;\r\n            if (percent >= 5) {\r\n              opps.push({\r\n                symbol: p1.symbol,\r\n                exchangeA: p1.exchange,\r\n                priceA: p1.price,\r\n                exchangeB: p2.exchange,\r\n                priceB: p2.price,\r\n                difference: percent.toFixed(2),\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n      setOpportunities(opps);\r\n    };\r\n    getPrices();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h2>Arbitrage Opportunities Over 5%</h2>\r\n      <ExportCSV data={opportunities} filename=\"opportunities.csv\" />\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Pair</th><th>Exchange A</th><th>Price A</th><th>Exchange B</th><th>Price B</th><th>% Diff</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {opportunities.map((item, idx) => (\r\n            <tr key={idx}>\r\n              <td>{item.symbol}</td>\r\n              <td>{item.exchangeA}</td>\r\n              <td>{item.priceA}</td>\r\n              <td>{item.exchangeB}</td>\r\n              <td>{item.priceB}</td>\r\n              <td>{item.difference}%</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}